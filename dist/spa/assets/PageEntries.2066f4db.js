import{Q as Un,a as Tt,b as Zn}from"./QItem.c81c05ad.js";import{c as Ne,i as On,e as Ot,r as z,G as Jn,a as q,w as Q,o as Je,K as eo,h as N,g as Te,l as to,af as Pn,T as _t,L as K,Y as Ue,W as te,S as Ve,X as O,R as $t,ag as le,P as qe,y as no,ah as oo,ai as io,q as In,b as Kt,aj as ao,a3 as ht,s as Gt,ak as An,al as ro,I as lo,O as H,N as L,t as Ze,am as mt,V as Lt,a2 as so,aa as rn,a8 as ln,ad as uo,D as Wt,an as sn,a6 as co,H as fo,u as ho,f as Ut,ao as mo,A as go,j as vo,k as Zt,ap as po,m as bo,aq as yo,n as wo,ar as Eo,as as So,ac as _o,at as xo,au as un,C as Co,av as Do,aw as Vt,ax as To,ay as Oo,az as Po,aA as Io,aB as Ao,aC as ko,v as Mo,Q as xe,aD as qo,aE as Fo,aF as Bo,aG as No,M as ce,aH as cn,aI as Ro,aJ as Ho,J as $o,aK as Pt,_ as Lo,Z as Wo,aL as Vo}from"./index.c72d2d6d.js";import{Q as zo,u as De,c as jo,T as Xo}from"./useLightOrDark.bfcea42d.js";import{v as gt,Q as Yo}from"./directiveSelectAll.8377fb80.js";var Qo=Ne({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=Te(),i=On(to,Ot);if(i===Ot)return console.error("QFooter needs to be child of QLayout"),Ot;const a=z(parseInt(e.heightHint,10)),r=z(!0),l=z(Jn.value===!0||i.isContainer.value===!0?0:window.innerHeight),u=q(()=>e.reveal===!0||i.view.value.indexOf("F")!==-1||o.platform.is.ios&&i.isContainer.value===!0),s=q(()=>i.isContainer.value===!0?i.containerHeight.value:l.value),d=q(()=>{if(e.modelValue!==!0)return 0;if(u.value===!0)return r.value===!0?a.value:0;const g=i.scroll.value.position+s.value+a.value-i.height.value;return g>0?g:0}),c=q(()=>e.modelValue!==!0||u.value===!0&&r.value!==!0),v=q(()=>e.modelValue===!0&&c.value===!0&&e.reveal===!0),f=q(()=>"q-footer q-layout__section--marginal "+(u.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(c.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(u.value!==!0?" hidden":""):"")),h=q(()=>{const g=i.rows.value.bottom,E={};return g[0]==="l"&&i.left.space===!0&&(E[o.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),g[2]==="r"&&i.right.space===!0&&(E[o.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),E});function y(g,E){i.update("footer",g,E)}function w(g,E){g.value!==E&&(g.value=E)}function S({height:g}){w(a,g),y("size",g)}function D(){if(e.reveal!==!0)return;const{direction:g,position:E,inflectionPoint:I}=i.scroll.value;w(r,g==="up"||E-I<100||i.height.value-s.value-E-a.value<300)}function p(g){v.value===!0&&w(r,!0),n("focusin",g)}Q(()=>e.modelValue,g=>{y("space",g),w(r,!0),i.animate()}),Q(d,g=>{y("offset",g)}),Q(()=>e.reveal,g=>{g===!1&&w(r,e.modelValue)}),Q(r,g=>{i.animate(),n("reveal",g)}),Q([a,i.scroll,i.height],D),Q(()=>o.screen.height,g=>{i.isContainer.value!==!0&&w(l,g)});const b={};return i.instances.footer=b,e.modelValue===!0&&y("size",a.value),y("space",e.modelValue),y("offset",d.value),Je(()=>{i.instances.footer===b&&(i.instances.footer=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const g=eo(t.default,[N(zo,{debounce:0,onResize:S})]);return e.elevated===!0&&g.push(N("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),N("footer",{class:f.value,style:h.value,onFocusin:p},g)}}});const Ko=Pn();function ze(e){let t="";e>0?t="+":e<0&&(t="-");const n=Ko.settings.currencySymbol,o=Math.abs(e),i=o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`${t} ${n} ${i}`}function ke(e){return e>0?"text-positive":e<0?"text-negative":"text-grey-6"}const Go=te("div",{class:"col text-grey-7 text-h6"}," Balance: ",-1),Uo={class:"row"},Zo={class:"col"},Jo={key:0,class:"row"},ei={class:"col text-caption text-grey-6"},ti={__name:"Balance",setup(e){const t=_t();return(n,o)=>(K(),Ue("div",{class:le(["row q-mb-sm q-px-md q-py-sm items-center",O(De)("shadow-up-3","bg-black")])},[Go,te("div",{class:le([O(ke)(O(t).balance),"col text-h6 text-right"])},[te("div",Uo,[te("div",Zo,Ve(O(ze)(O(t).balance)),1)]),O(t).balancePaid?(K(),Ue("div",Jo,[te("div",ei,[$t(" Paid: "),te("span",{class:le(["text-weight-bold",O(ke)(O(t).balancePaid)])},Ve(O(ze)(O(t).balancePaid)),3)])])):qe("",!0)],2)],2))}};var ni=Ne({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const o=Te(),i=z(null);let a=0;const r=[];function l(f){const h=typeof f=="boolean"?f:e.noErrorFocus!==!0,y=++a,w=(p,b)=>{n(`validation${p===!0?"Success":"Error"}`,b)},S=p=>{const b=p.validate();return typeof b.then=="function"?b.then(g=>({valid:g,comp:p}),g=>({valid:!1,comp:p,err:g})):Promise.resolve({valid:b,comp:p})};return(e.greedy===!0?Promise.all(r.map(S)).then(p=>p.filter(b=>b.valid!==!0)):r.reduce((p,b)=>p.then(()=>S(b).then(g=>{if(g.valid===!1)return Promise.reject(g)})),Promise.resolve()).catch(p=>[p])).then(p=>{if(p===void 0||p.length===0)return y===a&&w(!0),!0;if(y===a){const{comp:b,err:g}=p[0];if(g!==void 0&&console.error(g),w(!1,b),h===!0){const E=p.find(({comp:I})=>typeof I.focus=="function"&&ao(I.$)===!1);E!==void 0&&E.comp.focus()}}return!1})}function u(){a++,r.forEach(f=>{typeof f.resetValidation=="function"&&f.resetValidation()})}function s(f){f!==void 0&&ht(f);const h=a+1;l().then(y=>{h===a&&y===!0&&(e.onSubmit!==void 0?n("submit",f):f!==void 0&&f.target!==void 0&&typeof f.target.submit=="function"&&f.target.submit())})}function d(f){f!==void 0&&ht(f),n("reset"),Gt(()=>{u(),e.autofocus===!0&&e.noResetFocus!==!0&&c()})}function c(){An(()=>{if(i.value===null)return;const f=i.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||i.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||i.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(i.value.querySelectorAll("[tabindex]"),h=>h.tabIndex!==-1);f!=null&&f.focus({preventScroll:!0})})}no(ro,{bindComponent(f){r.push(f)},unbindComponent(f){const h=r.indexOf(f);h!==-1&&r.splice(h,1)}});let v=!1;return oo(()=>{v=!0}),io(()=>{v===!0&&e.autofocus===!0&&c()}),In(()=>{e.autofocus===!0&&c()}),Object.assign(o.proxy,{validate:l,resetValidation:u,submit:s,reset:d,focus:c,getValidationComponents:()=>r}),()=>N("form",{class:"q-form",ref:i,onSubmit:s,onReset:d},Kt(t.default))}});const oi={class:"col"},ii={class:"col"},ai={class:"col col-auto"},ri={__name:"AddEntry",setup(e){const t=_t(),n=z(null),o={name:"",amount:null},i=lo({...o}),a=()=>{Object.assign(i,o),n.value.focus()},r=()=>{t.addEntry(i),a()};return(l,u)=>(K(),Ue("div",null,[H(ni,{onSubmit:r,class:"row q-px-sm q-pb-sm q-col-gutter-sm bg-primary"},{default:L(()=>[te("div",oi,[Ze(H(mt,{modelValue:i.name,"onUpdate:modelValue":u[0]||(u[0]=s=>i.name=s),ref_key:"nameRef",ref:n,placeholder:"Name","bg-color":O(De)("white","black"),outlined:"",dense:""},null,8,["modelValue","bg-color"]),[[O(gt)]])]),te("div",ii,[Ze(H(mt,{modelValue:i.amount,"onUpdate:modelValue":u[1]||(u[1]=s=>i.amount=s),modelModifiers:{number:!0},type:"number",step:"0.01",placeholder:"Amount","input-class":"text-right","bg-color":O(De)("white","black"),outlined:"",dense:""},null,8,["modelValue","bg-color"]),[[O(gt)]])]),te("div",ai,[H(Lt,{type:"submit",color:"primary",icon:"add",round:""})])]),_:1})]))}},li={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},si={...li,contextMenu:Boolean};function ui({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:i,emit:a}=Te(),r=z(null);let l=null;function u(f){return r.value===null?!1:f===void 0||f.touches===void 0||f.touches.length<=1}const s={};n===void 0&&(Object.assign(s,{hide(f){i.hide(f)},toggle(f){i.toggle(f),f.qAnchorHandled=!0},toggleKey(f){so(f,13)===!0&&s.toggle(f)},contextClick(f){i.hide(f),rn(f),Gt(()=>{i.show(f),f.qAnchorHandled=!0})},prevent:rn,mobileTouch(f){if(s.mobileCleanup(f),u(f)!==!0)return;i.hide(f),r.value.classList.add("non-selectable");const h=f.target;ln(s,"anchor",[[h,"touchmove","mobileCleanup","passive"],[h,"touchend","mobileCleanup","passive"],[h,"touchcancel","mobileCleanup","passive"],[r.value,"contextmenu","prevent","notPassive"]]),l=setTimeout(()=>{l=null,i.show(f),f.qAnchorHandled=!0},300)},mobileCleanup(f){r.value.classList.remove("non-selectable"),l!==null&&(clearTimeout(l),l=null),e.value===!0&&f!==void 0&&jo()}}),n=function(f=o.contextMenu){if(o.noParentEvent===!0||r.value===null)return;let h;f===!0?i.$q.platform.is.mobile===!0?h=[[r.value,"touchstart","mobileTouch","passive"]]:h=[[r.value,"mousedown","hide","passive"],[r.value,"contextmenu","contextClick","notPassive"]]:h=[[r.value,"click","toggle","passive"],[r.value,"keyup","toggleKey","passive"]],ln(s,"anchor",h)});function d(){uo(s,"anchor")}function c(f){for(r.value=f;r.value.classList.contains("q-anchor--skip");)r.value=r.value.parentNode;n()}function v(){if(o.target===!1||o.target===""||i.$el.parentNode===null)r.value=null;else if(o.target===!0)c(i.$el.parentNode);else{let f=o.target;if(typeof o.target=="string")try{f=document.querySelector(o.target)}catch{f=void 0}f!=null?(r.value=f.$el||f,n()):(r.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return Q(()=>o.contextMenu,f=>{r.value!==null&&(d(),n(f))}),Q(()=>o.target,()=>{r.value!==null&&d(),v()}),Q(()=>o.noParentEvent,f=>{r.value!==null&&(f===!0?d():n())}),In(()=>{v(),t!==!0&&o.modelValue===!0&&r.value===null&&a("update:modelValue",!1)}),Je(()=>{l!==null&&clearTimeout(l),d()}),{anchorEl:r,canShow:u,anchorEvents:s}}function ci(e,t){const n=z(null);let o;function i(l,u){const s=`${u!==void 0?"add":"remove"}EventListener`,d=u!==void 0?u:o;l!==window&&l[s]("scroll",d,Wt.passive),window[s]("scroll",d,Wt.passive),o=u}function a(){n.value!==null&&(i(n.value),n.value=null)}const r=Q(()=>e.noParentEvent,()=>{n.value!==null&&(a(),t())});return Je(r),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:i}}const{notPassiveCapture:vt}=Wt,Ce=[];function pt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=sn.length-1;for(;n>=0;){const o=sn[n].$;if(o.type.name==="QTooltip"){n--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=Ce.length-1;o>=0;o--){const i=Ce[o];if((i.anchorEl.value===null||i.anchorEl.value.contains(t)===!1)&&(t===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(t)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function di(e){Ce.push(e),Ce.length===1&&(document.addEventListener("mousedown",pt,vt),document.addEventListener("touchstart",pt,vt))}function dn(e){const t=Ce.findIndex(n=>n===e);t!==-1&&(Ce.splice(t,1),Ce.length===0&&(document.removeEventListener("mousedown",pt,vt),document.removeEventListener("touchstart",pt,vt)))}let fn,hn;function mn(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function fi(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const zt={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{zt[`${e}#ltr`]=e,zt[`${e}#rtl`]=e});function gn(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:zt[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function hi(e,t){let{top:n,left:o,right:i,bottom:a,width:r,height:l}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],a+=t[1],i+=t[0],r+=t[0],l+=t[1]),{top:n,bottom:a,height:l,left:o,right:i,width:r,middle:o+(i-o)/2,center:n+(a-n)/2}}function mi(e,t,n){let{top:o,left:i}=e.getBoundingClientRect();return o+=t.top,i+=t.left,n!==void 0&&(o+=n[1],i+=n[0]),{top:o,bottom:o+1,height:1,left:i,right:i+1,width:1,middle:i,center:o}}function gi(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function vn(e,t,n,o){return{top:e[n.vertical]-t[o.vertical],left:e[n.horizontal]-t[o.horizontal]}}function kn(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{kn(e,t+1)},10);return}const{targetEl:n,offset:o,anchorEl:i,anchorOrigin:a,selfOrigin:r,absoluteOffset:l,fit:u,cover:s,maxHeight:d,maxWidth:c}=e;if(co.is.ios===!0&&window.visualViewport!==void 0){const E=document.body.style,{offsetLeft:I,offsetTop:j}=window.visualViewport;I!==fn&&(E.setProperty("--q-pe-left",I+"px"),fn=I),j!==hn&&(E.setProperty("--q-pe-top",j+"px"),hn=j)}const{scrollLeft:v,scrollTop:f}=n,h=l===void 0?hi(i,s===!0?[0,0]:o):mi(i,l,o);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:c||"100vw",maxHeight:d||"100vh",visibility:"visible"});const{offsetWidth:y,offsetHeight:w}=n,{elWidth:S,elHeight:D}=u===!0||s===!0?{elWidth:Math.max(h.width,y),elHeight:s===!0?Math.max(h.height,w):w}:{elWidth:y,elHeight:w};let p={maxWidth:c,maxHeight:d};(u===!0||s===!0)&&(p.minWidth=h.width+"px",s===!0&&(p.minHeight=h.height+"px")),Object.assign(n.style,p);const b=gi(S,D);let g=vn(h,b,a,r);if(l===void 0||o===void 0)It(g,h,b,a,r);else{const{top:E,left:I}=g;It(g,h,b,a,r);let j=!1;if(g.top!==E){j=!0;const F=2*o[1];h.center=h.top-=F,h.bottom-=F+2}if(g.left!==I){j=!0;const F=2*o[0];h.middle=h.left-=F,h.right-=F+2}j===!0&&(g=vn(h,b,a,r),It(g,h,b,a,r))}p={top:g.top+"px",left:g.left+"px"},g.maxHeight!==void 0&&(p.maxHeight=g.maxHeight+"px",h.height>g.maxHeight&&(p.minHeight=p.maxHeight)),g.maxWidth!==void 0&&(p.maxWidth=g.maxWidth+"px",h.width>g.maxWidth&&(p.minWidth=p.maxWidth)),Object.assign(n.style,p),n.scrollTop!==f&&(n.scrollTop=f),n.scrollLeft!==v&&(n.scrollLeft=v)}function It(e,t,n,o,i){const a=n.bottom,r=n.right,l=fo(),u=window.innerHeight-l,s=document.body.clientWidth;if(e.top<0||e.top+a>u)if(i.vertical==="center")e.top=t[o.vertical]>u/2?Math.max(0,u-a):0,e.maxHeight=Math.min(a,u);else if(t[o.vertical]>u/2){const d=Math.min(u,o.vertical==="center"?t.center:o.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(a,d),e.top=Math.max(0,d-a)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(a,u-e.top);if(e.left<0||e.left+r>s)if(e.maxWidth=Math.min(r,s),i.horizontal==="middle")e.left=t[o.horizontal]>s/2?Math.max(0,s-r):0;else if(t[o.horizontal]>s/2){const d=Math.min(s,o.horizontal==="middle"?t.middle:o.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(r,d),e.left=Math.max(0,d-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(r,s-e.left)}var vi=Ne({name:"QMenu",inheritAttrs:!1,props:{...si,...ho,...Ut,...mo,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:mn},self:{type:String,validator:mn},offset:{type:Array,validator:fi},scrollTarget:go,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...vo,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){let i=null,a,r,l;const u=Te(),{proxy:s}=u,{$q:d}=s,c=z(null),v=z(!1),f=q(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),h=Zt(e,d),{registerTick:y,removeTick:w}=po(),{registerTimeout:S}=bo(),{transitionProps:D,transitionStyle:p}=yo(e),{localScrollTarget:b,changeScrollEvent:g,unconfigureScrollTarget:E}=ci(e,on),{anchorEl:I,canShow:j}=ui({showing:v}),{hide:F}=wo({showing:v,canShow:j,handleShow:nn,handleHide:nt,hideOnRouteChange:f,processOnMount:!0}),{showPortal:me,hidePortal:ne,renderPortal:ye}=Eo(u,c,Qn,"menu"),G={anchorEl:I,innerRef:c,onClickOutside(T){if(e.persistent!==!0&&v.value===!0)return F(T),(T.type==="touchstart"||T.target.classList.contains("q-dialog__backdrop"))&&ht(T),!0}},ae=q(()=>gn(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),we=q(()=>e.cover===!0?ae.value:gn(e.self||"top start",d.lang.rtl)),re=q(()=>(e.square===!0?" q-menu--square":"")+(h.value===!0?" q-menu--dark q-dark":"")),Oe=q(()=>e.autoClose===!0?{onClick:Yn}:{}),ge=q(()=>v.value===!0&&e.persistent!==!0);Q(ge,T=>{T===!0?(To(Ct),di(G)):(un(Ct),dn(G))});function Re(){An(()=>{let T=c.value;T&&T.contains(document.activeElement)!==!0&&(T=T.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||T.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||T.querySelector("[autofocus], [data-autofocus]")||T,T.focus({preventScroll:!0}))})}function nn(T){if(i=e.noRefocus===!1?document.activeElement:null,So(an),me(),on(),a=void 0,T!==void 0&&(e.touchPosition||e.contextMenu)){const Dt=_o(T);if(Dt.left!==void 0){const{top:Kn,left:Gn}=I.value.getBoundingClientRect();a={left:Dt.left-Gn,top:Dt.top-Kn}}}r===void 0&&(r=Q(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,He)),e.noFocus!==!0&&document.activeElement.blur(),y(()=>{He(),e.noFocus!==!0&&Re()}),S(()=>{d.platform.is.ios===!0&&(l=e.autoClose,c.value.click()),He(),me(!0),n("show",T)},e.transitionDuration)}function nt(T){w(),ne(),ot(!0),i!==null&&(T===void 0||T.qClickOutside!==!0)&&(((T&&T.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),S(()=>{ne(!0),n("hide",T)},e.transitionDuration)}function ot(T){a=void 0,r!==void 0&&(r(),r=void 0),(T===!0||v.value===!0)&&(xo(an),E(),dn(G),un(Ct)),T!==!0&&(i=null)}function on(){(I.value!==null||e.scrollTarget!==void 0)&&(b.value=Co(I.value,e.scrollTarget),g(b.value,He))}function Yn(T){l!==!0?(Do(s,T),n("click",T)):l=!1}function an(T){ge.value===!0&&e.noFocus!==!0&&Oo(c.value,T.target)!==!0&&Re()}function Ct(T){n("escapeKey"),F(T)}function He(){kn({targetEl:c.value,offset:e.offset,anchorEl:I.value,anchorOrigin:ae.value,selfOrigin:we.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Qn(){return N(Vt,D.value,()=>v.value===!0?N("div",{role:"menu",...o,ref:c,tabindex:-1,class:["q-menu q-position-engine scroll"+re.value,o.class],style:[o.style,p.value],...Oe.value},Kt(t.default)):null)}return Je(ot),Object.assign(s,{focus:Re,updatePosition:He}),ye}});function je(e,t=new WeakMap){if(Object(e)!==e)return e;if(t.has(e))return t.get(e);const n=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const o=e.valueOf();if(Object(o)!==o){const i=new e.constructor(o);return t.set(e,i),i}}return t.set(e,n),e instanceof Set?e.forEach(o=>{n.add(je(o,t))}):e instanceof Map&&e.forEach((o,i)=>{n.set(i,je(o,t))}),Object.assign(n,...Object.keys(e).map(o=>({[o]:je(e[o],t)})))}var pn=Ne({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:n}){const{proxy:o}=Te(),{$q:i}=o,a=z(null),r=z(""),l=z("");let u=!1;const s=q(()=>Po({initialValue:r.value,validate:e.validate,set:d,cancel:c,updatePosition:v},"value",()=>l.value,b=>{l.value=b}));function d(){e.validate(l.value)!==!1&&(f()===!0&&(n("save",l.value,r.value),n("update:modelValue",l.value)),h())}function c(){f()===!0&&n("cancel",l.value,r.value),h()}function v(){Gt(()=>{a.value.updatePosition()})}function f(){return Io(l.value,r.value)===!1}function h(){u=!0,a.value.hide()}function y(){u=!1,r.value=je(e.modelValue),l.value=je(e.modelValue),n("beforeShow")}function w(){n("show")}function S(){u===!1&&f()===!0&&(e.autoSave===!0&&e.validate(l.value)===!0?(n("save",l.value,r.value),n("update:modelValue",l.value)):n("cancel",l.value,r.value)),n("beforeHide")}function D(){n("hide")}function p(){const b=t.default!==void 0?[].concat(t.default(s.value)):[];return e.title&&b.unshift(N("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&b.push(N("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[N(Lt,{flat:!0,color:e.color,label:e.labelCancel||i.lang.label.cancel,onClick:c}),N(Lt,{flat:!0,color:e.color,label:e.labelSet||i.lang.label.set,onClick:d})])),b}return Object.assign(o,{set:d,cancel:c,show(b){a.value!==null&&a.value.show(b)},hide(b){a.value!==null&&a.value.hide(b)},updatePosition:v}),()=>{if(e.disable!==!0)return N(vi,{ref:a,class:"q-popup-edit",cover:e.cover,onBeforeShow:y,onShow:w,onBeforeHide:S,onHide:D,onEscapeKey:c},p)}}});const pi={xs:8,sm:10,md:14,lg:20,xl:24};var bi=Ne({name:"QChip",props:{...Ut,...Ao,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=Te(),i=Zt(e,o),a=ko(e,pi),r=q(()=>e.selected===!0||e.icon!==void 0),l=q(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),u=q(()=>e.iconRemove||o.iconSet.chip.remove),s=q(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=q(()=>{const w=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(w?` text-${w} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(s.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),c=q(()=>{const w=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},S={...w,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:w,remove:S}});function v(w){w.keyCode===13&&f(w)}function f(w){e.disable||(n("update:selected",!e.selected),n("click",w))}function h(w){(w.keyCode===void 0||w.keyCode===13)&&(ht(w),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function y(){const w=[];s.value===!0&&w.push(N("div",{class:"q-focus-helper"})),r.value===!0&&w.push(N(xe,{class:"q-chip__icon q-chip__icon--left",name:l.value}));const S=e.label!==void 0?[N("div",{class:"ellipsis"},[e.label])]:void 0;return w.push(N("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},qo(t.default,S))),e.iconRight&&w.push(N(xe,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&w.push(N(xe,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:u.value,...c.value.remove,onClick:h,onKeyup:h})),w}return()=>{if(e.modelValue===!1)return;const w={class:d.value,style:a.value};return s.value===!0&&Object.assign(w,c.value.chip,{onClick:f,onKeyup:v}),Mo("div",w,y(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Fo,e.ripple]])}}});function yi(){let e=Object.create(null);return{getCache:(t,n)=>e[t]===void 0?e[t]=typeof n=="function"?n():n:e[t],setCache(t,n){e[t]=n},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const bn=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];var wi=Ne({name:"QSlideItem",props:{...Ut,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(e,{slots:t,emit:n}){const{proxy:o}=Te(),{$q:i}=o,a=Zt(e,i),{getCache:r}=yi(),l=z(null);let u=null,s={},d={},c={};const v=q(()=>i.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),f=q(()=>"q-slide-item q-item-type overflow-hidden"+(a.value===!0?" q-slide-item--dark q-dark":""));function h(){l.value.style.transform="translate(0,0)"}function y(S,D,p){e.onSlide!==void 0&&n("slide",{side:S,ratio:D,isReset:p})}function w(S){const D=l.value;if(S.isFirst)s={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},D.classList.add("no-transition"),bn.forEach(E=>{if(t[E[0]]!==void 0){const I=c[E[0]];I.style.transform="scale(1)",s.size[E[0]]=I.getBoundingClientRect()[E[3]]}}),s.axis=S.direction==="up"||S.direction==="down"?"Y":"X";else if(S.isFinal){D.classList.remove("no-transition"),s.scale===1?(D.style.transform=`translate${s.axis}(${s.dir*100}%)`,u!==null&&clearTimeout(u),u=setTimeout(()=>{u=null,n(s.showing,{reset:h}),n("action",{side:s.showing,reset:h})},230)):(D.style.transform="translate(0,0)",y(s.showing,0,!0));return}else S.direction=s.axis==="X"?S.offset.x<0?"left":"right":S.offset.y<0?"up":"down";if(t.left===void 0&&S.direction===v.value.right||t.right===void 0&&S.direction===v.value.left||t.top===void 0&&S.direction==="down"||t.bottom===void 0&&S.direction==="up"){D.style.transform="translate(0,0)";return}let p,b,g;s.axis==="X"?(b=S.direction==="left"?-1:1,p=b===1?v.value.left:v.value.right,g=S.distance.x):(b=S.direction==="up"?-2:2,p=b===2?"top":"bottom",g=S.distance.y),!(s.dir!==null&&Math.abs(b)!==Math.abs(s.dir))&&(s.dir!==b&&(["left","right","top","bottom"].forEach(E=>{d[E]&&(d[E].style.visibility=p===E?"visible":"hidden")}),s.showing=p,s.dir=b),s.scale=Math.max(0,Math.min(1,(g-40)/s.size[p])),D.style.transform=`translate${s.axis}(${g*b/Math.abs(b)}px)`,c[p].style.transform=`scale(${s.scale})`,y(p,s.scale,!1))}return Bo(()=>{d={},c={}}),Je(()=>{u!==null&&clearTimeout(u)}),Object.assign(o,{reset:h}),()=>{const S=[],D={left:t[v.value.right]!==void 0,right:t[v.value.left]!==void 0,up:t.bottom!==void 0,down:t.top!==void 0},p=Object.keys(D).filter(g=>D[g]===!0);bn.forEach(g=>{const E=g[0];t[E]!==void 0&&S.push(N("div",{key:E,ref:I=>{d[E]=I},class:`q-slide-item__${E} absolute-full row no-wrap items-${g[1]} justify-${g[2]}`+(e[E+"Color"]!==void 0?` bg-${e[E+"Color"]}`:"")},[N("div",{ref:I=>{c[E]=I}},t[E]())]))});const b=N("div",{key:`${p.length===0?"only-":""} content`,ref:l,class:"q-slide-item__content"},Kt(t.default));return p.length===0?S.push(b):S.push(Ze(b,r("dir#"+p.join(""),()=>{const g={prevent:!0,stop:!0,mouse:!0};return p.forEach(E=>{g[E]=!0}),[[Xo,w,void 0,g]]}))),N("div",{class:f.value},S)}}});function Ei(){return On(No)}const Si={__name:"Entry",props:{entry:{type:Object,required:!0},index:{type:Number,required:!0}},setup(e){const t=Ei(),n=_t(),o=Pn(),i=e,a=({reset:d})=>{n.updateEntry(i.entry.id,{paid:!i.entry.paid}),d()},r=({reset:d})=>{o.settings.promptToDelete?l(d):n.deleteEntry(i.entry.id),d()},l=d=>{t.dialog({title:"Confirmacion",message:`
      Desea eliminar la entrada?
      <div class="q-mt-md text-weight-bold ${ke(i.entry.amount)}">
        ${i.entry.name} : ${ze(i.entry.amount)}  
      </div>
    `,cancel:!0,persistent:!0,html:!0,ok:{label:"Eliminar",color:"negative",noCaps:!0},cancel:{label:"Cancelar",color:"primary",noCaps:!0}}).onOk(()=>{n.deleteEntry(i.entry.id)}).onCancel(()=>{d()})},u=d=>{n.updateEntry(i.entry.id,{name:d})},s=d=>{n.updateEntry(i.entry.id,{amount:d})};return(d,c)=>(K(),ce(wi,{onLeft:a,onRight:r,"left-color":"positive","right-color":"negative",id:`id-${i.entry.id}`,class:le(e.entry.paid?O(De)("bg-grey-2","bg-grey-9"):O(De)("bg-white","bg-black"))},{left:L(()=>[H(xe,{name:"done"})]),right:L(()=>[H(xe,{name:"delete"})]),default:L(()=>[H(Un,{class:"row"},{default:L(()=>[H(Tt,{class:le(["text-weight-bold col",[O(ke)(e.entry.amount),{"text-strike":e.entry.paid}]])},{default:L(()=>[$t(Ve(e.entry.name)+" ",1),H(pn,{onSave:u,"model-value":e.entry.name,cover:!1,offset:[16,19],anchor:"top left","auto-save":"",buttons:"","label-set":"Guardar"},{default:L(v=>[Ze(H(mt,{modelValue:v.value,"onUpdate:modelValue":f=>v.value=f,onKeyup:cn(v.set,["enter"]),"input-class":"text-weight-bold letter-spacing-none",autofocus:""},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),[[O(gt)]])]),_:1},8,["model-value"])]),_:1},8,["class"]),H(Tt,{class:le(["text-weight-bold relative-position col",[O(ke)(e.entry.amount)]]),side:""},{default:L(()=>[te("span",{class:le({"text-strike":e.entry.paid})},Ve(O(ze)(e.entry.amount)),3),H(pn,{onSave:s,"model-value":e.entry.amount,cover:!1,offset:[16,19],anchor:"top right",self:"top right","auto-save":"",buttons:"","label-set":"Guardar"},{default:L(v=>[Ze(H(mt,{modelValue:v.value,"onUpdate:modelValue":f=>v.value=f,modelModifiers:{number:!0},onKeyup:cn(v.set,["enter"]),"input-class":"text-weight-bold letter-spacing-none text-right",type:"number",step:"0.01",autofocus:""},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),[[O(gt)]])]),_:1},8,["model-value"]),O(o).settings.showRunningBalance?(K(),ce(bi,{key:0,class:le([O(ke)(O(n).runningBalances[e.index]),"running-balance absolute-bottom-right"]),size:"9px",outline:"",dense:""},{default:L(()=>[$t(Ve(O(ze)(O(n).runningBalances[e.index])),1)]),_:1},8,["class"])):qe("",!0)]),_:1},8,["class"]),O(n).options.sort?(K(),ce(Tt,{key:0,side:""},{default:L(()=>[H(xe,{name:"reorder",class:"handle",color:"primary"})]),_:1})):qe("",!0)]),_:1})]),_:1},8,["id","class"]))}},_i={class:"text-h6 text-center q-pa-md"},xi={__name:"NothingHere",setup(e){return(t,n)=>(K(),Ue("div",_i,[H(xe,{name:"savings",size:"100px",color:O(De)("grey-4","grey-7")},null,8,["color"]),te("div",{class:le(["q-mt-md",O(De)("text-grey-5","text-grey-6")])},"No entries yet",2)]))}};/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yn(Object(n),!0).forEach(function(o){Ci(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function st(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?st=function(t){return typeof t}:st=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(e)}function Ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(){return fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},fe.apply(this,arguments)}function Di(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,a;for(a=0;a<o.length;a++)i=o[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ti(e,t){if(e==null)return{};var n=Di(e,t),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,o)||(n[o]=e[o]))}return n}var Oi="1.15.2";function de(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var he=de(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),et=de(/Edge/i),wn=de(/firefox/i),Xe=de(/safari/i)&&!de(/chrome/i)&&!de(/android/i),Mn=de(/iP(ad|od|hone)/i),qn=de(/chrome/i)&&de(/android/i),Fn={capture:!1,passive:!1};function A(e,t,n){e.addEventListener(t,n,!he&&Fn)}function P(e,t,n){e.removeEventListener(t,n,!he&&Fn)}function bt(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Pi(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ie(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&bt(e,t):bt(e,t))||o&&e===n)return e;if(e===n)break}while(e=Pi(e))}return null}var En=/\s+/g;function U(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(En," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(En," ")}}function _(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function Fe(e,t){var n="";if(typeof e=="string")n=e;else do{var o=_(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Bn(e,t,n){if(e){var o=e.getElementsByTagName(t),i=0,a=o.length;if(n)for(;i<a;i++)n(o[i],i);return o}return[]}function se(){var e=document.scrollingElement;return e||document.documentElement}function $(e,t,n,o,i){if(!(!e.getBoundingClientRect&&e!==window)){var a,r,l,u,s,d,c;if(e!==window&&e.parentNode&&e!==se()?(a=e.getBoundingClientRect(),r=a.top,l=a.left,u=a.bottom,s=a.right,d=a.height,c=a.width):(r=0,l=0,u=window.innerHeight,s=window.innerWidth,d=window.innerHeight,c=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!he))do if(i&&i.getBoundingClientRect&&(_(i,"transform")!=="none"||n&&_(i,"position")!=="static")){var v=i.getBoundingClientRect();r-=v.top+parseInt(_(i,"border-top-width")),l-=v.left+parseInt(_(i,"border-left-width")),u=r+a.height,s=l+a.width;break}while(i=i.parentNode);if(o&&e!==window){var f=Fe(i||e),h=f&&f.a,y=f&&f.d;f&&(r/=y,l/=h,c/=h,d/=y,u=r+d,s=l+c)}return{top:r,left:l,bottom:u,right:s,width:c,height:d}}}function Sn(e,t,n){for(var o=be(e,!0),i=$(e)[t];o;){var a=$(o)[n],r=void 0;if(n==="top"||n==="left"?r=i>=a:r=i<=a,!r)return o;if(o===se())break;o=be(o,!1)}return!1}function Be(e,t,n,o){for(var i=0,a=0,r=e.children;a<r.length;){if(r[a].style.display!=="none"&&r[a]!==x.ghost&&(o||r[a]!==x.dragged)&&ie(r[a],n.draggable,e,!1)){if(i===t)return r[a];i++}a++}return null}function Jt(e,t){for(var n=e.lastElementChild;n&&(n===x.ghost||_(n,"display")==="none"||t&&!bt(n,t));)n=n.previousElementSibling;return n||null}function ee(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==x.clone&&(!t||bt(e,t))&&n++;return n}function _n(e){var t=0,n=0,o=se();if(e)do{var i=Fe(e),a=i.a,r=i.d;t+=e.scrollLeft*a,n+=e.scrollTop*r}while(e!==o&&(e=e.parentNode));return[t,n]}function Ii(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function be(e,t){if(!e||!e.getBoundingClientRect)return se();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=_(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return se();if(o||t)return n;o=!0}}while(n=n.parentNode);return se()}function Ai(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function At(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Ye;function Nn(e,t){return function(){if(!Ye){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),Ye=setTimeout(function(){Ye=void 0},t)}}}function ki(){clearTimeout(Ye),Ye=void 0}function Rn(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Hn(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function $n(e,t,n){var o={};return Array.from(e.children).forEach(function(i){var a,r,l,u;if(!(!ie(i,t.draggable,e,!1)||i.animated||i===n)){var s=$(i);o.left=Math.min((a=o.left)!==null&&a!==void 0?a:1/0,s.left),o.top=Math.min((r=o.top)!==null&&r!==void 0?r:1/0,s.top),o.right=Math.max((l=o.right)!==null&&l!==void 0?l:-1/0,s.right),o.bottom=Math.max((u=o.bottom)!==null&&u!==void 0?u:-1/0,s.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var J="Sortable"+new Date().getTime();function Mi(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(i){if(!(_(i,"display")==="none"||i===x.ghost)){e.push({target:i,rect:$(i)});var a=ue({},e[e.length-1].rect);if(i.thisAnimationDuration){var r=Fe(i,!0);r&&(a.top-=r.f,a.left-=r.e)}i.fromRect=a}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(Ii(e,{target:o}),1)},animateAll:function(o){var i=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var a=!1,r=0;e.forEach(function(l){var u=0,s=l.target,d=s.fromRect,c=$(s),v=s.prevFromRect,f=s.prevToRect,h=l.rect,y=Fe(s,!0);y&&(c.top-=y.f,c.left-=y.e),s.toRect=c,s.thisAnimationDuration&&At(v,c)&&!At(d,c)&&(h.top-c.top)/(h.left-c.left)===(d.top-c.top)/(d.left-c.left)&&(u=Fi(h,v,f,i.options)),At(c,d)||(s.prevFromRect=d,s.prevToRect=c,u||(u=i.options.animation),i.animate(s,h,c,u)),u&&(a=!0,r=Math.max(r,u),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},u),s.thisAnimationDuration=u)}),clearTimeout(t),a?t=setTimeout(function(){typeof o=="function"&&o()},r):typeof o=="function"&&o(),e=[]},animate:function(o,i,a,r){if(r){_(o,"transition",""),_(o,"transform","");var l=Fe(this.el),u=l&&l.a,s=l&&l.d,d=(i.left-a.left)/(u||1),c=(i.top-a.top)/(s||1);o.animatingX=!!d,o.animatingY=!!c,_(o,"transform","translate3d("+d+"px,"+c+"px,0)"),this.forRepaintDummy=qi(o),_(o,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),_(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){_(o,"transition",""),_(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},r)}}}}function qi(e){return e.offsetWidth}function Fi(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var Pe=[],kt={initializeByDefault:!0},tt={mount:function(t){for(var n in kt)kt.hasOwnProperty(n)&&!(n in t)&&(t[n]=kt[n]);Pe.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Pe.push(t)},pluginEvent:function(t,n,o){var i=this;this.eventCanceled=!1,o.cancel=function(){i.eventCanceled=!0};var a=t+"Global";Pe.forEach(function(r){!n[r.pluginName]||(n[r.pluginName][a]&&n[r.pluginName][a](ue({sortable:n},o)),n.options[r.pluginName]&&n[r.pluginName][t]&&n[r.pluginName][t](ue({sortable:n},o)))})},initializePlugins:function(t,n,o,i){Pe.forEach(function(l){var u=l.pluginName;if(!(!t.options[u]&&!l.initializeByDefault)){var s=new l(t,n,t.options);s.sortable=t,s.options=t.options,t[u]=s,fe(o,s.defaults)}});for(var a in t.options)if(!!t.options.hasOwnProperty(a)){var r=this.modifyOption(t,a,t.options[a]);typeof r!="undefined"&&(t.options[a]=r)}},getEventProperties:function(t,n){var o={};return Pe.forEach(function(i){typeof i.eventProperties=="function"&&fe(o,i.eventProperties.call(n[i.pluginName],t))}),o},modifyOption:function(t,n,o){var i;return Pe.forEach(function(a){!t[a.pluginName]||a.optionListeners&&typeof a.optionListeners[n]=="function"&&(i=a.optionListeners[n].call(t[a.pluginName],o))}),i}};function Bi(e){var t=e.sortable,n=e.rootEl,o=e.name,i=e.targetEl,a=e.cloneEl,r=e.toEl,l=e.fromEl,u=e.oldIndex,s=e.newIndex,d=e.oldDraggableIndex,c=e.newDraggableIndex,v=e.originalEvent,f=e.putSortable,h=e.extraEventProperties;if(t=t||n&&n[J],!!t){var y,w=t.options,S="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!he&&!et?y=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(o,!0,!0)),y.to=r||n,y.from=l||n,y.item=i||n,y.clone=a,y.oldIndex=u,y.newIndex=s,y.oldDraggableIndex=d,y.newDraggableIndex=c,y.originalEvent=v,y.pullMode=f?f.lastPutMode:void 0;var D=ue(ue({},h),tt.getEventProperties(o,t));for(var p in D)y[p]=D[p];n&&n.dispatchEvent(y),w[S]&&w[S].call(t,y)}}var Ni=["evt"],Y=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=o.evt,a=Ti(o,Ni);tt.pluginEvent.bind(x)(t,n,ue({dragEl:m,parentEl:B,ghostEl:C,rootEl:k,nextEl:_e,lastDownEl:ut,cloneEl:M,cloneHidden:pe,dragStarted:$e,putSortable:W,activeSortable:x.active,originalEvent:i,oldIndex:Me,oldDraggableIndex:Qe,newIndex:Z,newDraggableIndex:ve,hideGhostForTarget:zn,unhideGhostForTarget:jn,cloneNowHidden:function(){pe=!0},cloneNowShown:function(){pe=!1},dispatchSortableEvent:function(l){X({sortable:n,name:l,originalEvent:i})}},a))};function X(e){Bi(ue({putSortable:W,cloneEl:M,targetEl:m,rootEl:k,oldIndex:Me,oldDraggableIndex:Qe,newIndex:Z,newDraggableIndex:ve},e))}var m,B,C,k,_e,ut,M,pe,Me,Z,Qe,ve,it,W,Ae=!1,yt=!1,wt=[],Ee,oe,Mt,qt,xn,Cn,$e,Ie,Ke,Ge=!1,at=!1,ct,V,Ft=[],jt=!1,Et=[],xt=typeof document!="undefined",rt=Mn,Dn=et||he?"cssFloat":"float",Ri=xt&&!qn&&!Mn&&"draggable"in document.createElement("div"),Ln=function(){if(!!xt){if(he)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Wn=function(t,n){var o=_(t),i=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),a=Be(t,0,n),r=Be(t,1,n),l=a&&_(a),u=r&&_(r),s=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+$(a).width,d=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+$(r).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&l.float&&l.float!=="none"){var c=l.float==="left"?"left":"right";return r&&(u.clear==="both"||u.clear===c)?"vertical":"horizontal"}return a&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||s>=i&&o[Dn]==="none"||r&&o[Dn]==="none"&&s+d>i)?"vertical":"horizontal"},Hi=function(t,n,o){var i=o?t.left:t.top,a=o?t.right:t.bottom,r=o?t.width:t.height,l=o?n.left:n.top,u=o?n.right:n.bottom,s=o?n.width:n.height;return i===l||a===u||i+r/2===l+s/2},$i=function(t,n){var o;return wt.some(function(i){var a=i[J].options.emptyInsertThreshold;if(!(!a||Jt(i))){var r=$(i),l=t>=r.left-a&&t<=r.right+a,u=n>=r.top-a&&n<=r.bottom+a;if(l&&u)return o=i}}),o},Vn=function(t){function n(a,r){return function(l,u,s,d){var c=l.options.group.name&&u.options.group.name&&l.options.group.name===u.options.group.name;if(a==null&&(r||c))return!0;if(a==null||a===!1)return!1;if(r&&a==="clone")return a;if(typeof a=="function")return n(a(l,u,s,d),r)(l,u,s,d);var v=(r?l:u).options.group.name;return a===!0||typeof a=="string"&&a===v||a.join&&a.indexOf(v)>-1}}var o={},i=t.group;(!i||st(i)!="object")&&(i={name:i}),o.name=i.name,o.checkPull=n(i.pull,!0),o.checkPut=n(i.put),o.revertClone=i.revertClone,t.group=o},zn=function(){!Ln&&C&&_(C,"display","none")},jn=function(){!Ln&&C&&_(C,"display","")};xt&&!qn&&document.addEventListener("click",function(e){if(yt)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),yt=!1,!1},!0);var Se=function(t){if(m){t=t.touches?t.touches[0]:t;var n=$i(t.clientX,t.clientY);if(n){var o={};for(var i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[J]._onDragOver(o)}}},Li=function(t){m&&m.parentNode[J]._isOutsideThisEl(t.target)};function x(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=fe({},t),e[J]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Wn(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,l){r.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:x.supportPointer!==!1&&"PointerEvent"in window&&!Xe,emptyInsertThreshold:5};tt.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);Vn(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:Ri,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?A(e,"pointerdown",this._onTapStart):(A(e,"mousedown",this._onTapStart),A(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(A(e,"dragover",this),A(e,"dragenter",this)),wt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),fe(this,Mi())}x.prototype={constructor:x,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ie=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,m):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,o=this.el,i=this.options,a=i.preventOnFilter,r=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,u=(l||t).target,s=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,d=i.filter;if(Ki(o),!m&&!(/mousedown|pointerdown/.test(r)&&t.button!==0||i.disabled)&&!s.isContentEditable&&!(!this.nativeDraggable&&Xe&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=ie(u,i.draggable,o,!1),!(u&&u.animated)&&ut!==u)){if(Me=ee(u),Qe=ee(u,i.draggable),typeof d=="function"){if(d.call(this,t,u,this)){X({sortable:n,rootEl:s,name:"filter",targetEl:u,toEl:o,fromEl:o}),Y("filter",n,{evt:t}),a&&t.cancelable&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(c){if(c=ie(s,c.trim(),o,!1),c)return X({sortable:n,rootEl:c,name:"filter",targetEl:u,fromEl:o,toEl:o}),Y("filter",n,{evt:t}),!0}),d)){a&&t.cancelable&&t.preventDefault();return}i.handle&&!ie(s,i.handle,o,!1)||this._prepareDragStart(t,l,u)}}},_prepareDragStart:function(t,n,o){var i=this,a=i.el,r=i.options,l=a.ownerDocument,u;if(o&&!m&&o.parentNode===a){var s=$(o);if(k=a,m=o,B=m.parentNode,_e=m.nextSibling,ut=o,it=r.group,x.dragged=m,Ee={target:m,clientX:(n||t).clientX,clientY:(n||t).clientY},xn=Ee.clientX-s.left,Cn=Ee.clientY-s.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,m.style["will-change"]="all",u=function(){if(Y("delayEnded",i,{evt:t}),x.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!wn&&i.nativeDraggable&&(m.draggable=!0),i._triggerDragStart(t,n),X({sortable:i,name:"choose",originalEvent:t}),U(m,r.chosenClass,!0)},r.ignore.split(",").forEach(function(d){Bn(m,d.trim(),Bt)}),A(l,"dragover",Se),A(l,"mousemove",Se),A(l,"touchmove",Se),A(l,"mouseup",i._onDrop),A(l,"touchend",i._onDrop),A(l,"touchcancel",i._onDrop),wn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,m.draggable=!0),Y("delayStart",this,{evt:t}),r.delay&&(!r.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(et||he))){if(x.eventCanceled){this._onDrop();return}A(l,"mouseup",i._disableDelayedDrag),A(l,"touchend",i._disableDelayedDrag),A(l,"touchcancel",i._disableDelayedDrag),A(l,"mousemove",i._delayedDragTouchMoveHandler),A(l,"touchmove",i._delayedDragTouchMoveHandler),r.supportPointer&&A(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(u,r.delay)}else u()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){m&&Bt(m),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;P(t,"mouseup",this._disableDelayedDrag),P(t,"touchend",this._disableDelayedDrag),P(t,"touchcancel",this._disableDelayedDrag),P(t,"mousemove",this._delayedDragTouchMoveHandler),P(t,"touchmove",this._delayedDragTouchMoveHandler),P(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?A(document,"pointermove",this._onTouchMove):n?A(document,"touchmove",this._onTouchMove):A(document,"mousemove",this._onTouchMove):(A(m,"dragend",this),A(k,"dragstart",this._onDragStart));try{document.selection?dt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Ae=!1,k&&m){Y("dragStarted",this,{evt:n}),this.nativeDraggable&&A(document,"dragover",Li);var o=this.options;!t&&U(m,o.dragClass,!1),U(m,o.ghostClass,!0),x.active=this,t&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(oe){this._lastX=oe.clientX,this._lastY=oe.clientY,zn();for(var t=document.elementFromPoint(oe.clientX,oe.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(oe.clientX,oe.clientY),t!==n);)n=t;if(m.parentNode[J]._isOutsideThisEl(t),n)do{if(n[J]){var o=void 0;if(o=n[J]._onDragOver({clientX:oe.clientX,clientY:oe.clientY,target:t,rootEl:n}),o&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);jn()}},_onTouchMove:function(t){if(Ee){var n=this.options,o=n.fallbackTolerance,i=n.fallbackOffset,a=t.touches?t.touches[0]:t,r=C&&Fe(C,!0),l=C&&r&&r.a,u=C&&r&&r.d,s=rt&&V&&_n(V),d=(a.clientX-Ee.clientX+i.x)/(l||1)+(s?s[0]-Ft[0]:0)/(l||1),c=(a.clientY-Ee.clientY+i.y)/(u||1)+(s?s[1]-Ft[1]:0)/(u||1);if(!x.active&&!Ae){if(o&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(C){r?(r.e+=d-(Mt||0),r.f+=c-(qt||0)):r={a:1,b:0,c:0,d:1,e:d,f:c};var v="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");_(C,"webkitTransform",v),_(C,"mozTransform",v),_(C,"msTransform",v),_(C,"transform",v),Mt=d,qt=c,oe=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!C){var t=this.options.fallbackOnBody?document.body:k,n=$(m,!0,rt,!0,t),o=this.options;if(rt){for(V=t;_(V,"position")==="static"&&_(V,"transform")==="none"&&V!==document;)V=V.parentNode;V!==document.body&&V!==document.documentElement?(V===document&&(V=se()),n.top+=V.scrollTop,n.left+=V.scrollLeft):V=se(),Ft=_n(V)}C=m.cloneNode(!0),U(C,o.ghostClass,!1),U(C,o.fallbackClass,!0),U(C,o.dragClass,!0),_(C,"transition",""),_(C,"transform",""),_(C,"box-sizing","border-box"),_(C,"margin",0),_(C,"top",n.top),_(C,"left",n.left),_(C,"width",n.width),_(C,"height",n.height),_(C,"opacity","0.8"),_(C,"position",rt?"absolute":"fixed"),_(C,"zIndex","100000"),_(C,"pointerEvents","none"),x.ghost=C,t.appendChild(C),_(C,"transform-origin",xn/parseInt(C.style.width)*100+"% "+Cn/parseInt(C.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,i=t.dataTransfer,a=o.options;if(Y("dragStart",this,{evt:t}),x.eventCanceled){this._onDrop();return}Y("setupClone",this),x.eventCanceled||(M=Hn(m),M.removeAttribute("id"),M.draggable=!1,M.style["will-change"]="",this._hideClone(),U(M,this.options.chosenClass,!1),x.clone=M),o.cloneId=dt(function(){Y("clone",o),!x.eventCanceled&&(o.options.removeCloneOnHide||k.insertBefore(M,m),o._hideClone(),X({sortable:o,name:"clone"}))}),!n&&U(m,a.dragClass,!0),n?(yt=!0,o._loopId=setInterval(o._emulateDragOver,50)):(P(document,"mouseup",o._onDrop),P(document,"touchend",o._onDrop),P(document,"touchcancel",o._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(o,i,m)),A(document,"drop",o),_(m,"transform","translateZ(0)")),Ae=!0,o._dragStartId=dt(o._dragStarted.bind(o,n,t)),A(document,"selectstart",o),$e=!0,Xe&&_(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,o=t.target,i,a,r,l=this.options,u=l.group,s=x.active,d=it===u,c=l.sort,v=W||s,f,h=this,y=!1;if(jt)return;function w(ge,Re){Y(ge,h,ue({evt:t,isOwner:d,axis:f?"vertical":"horizontal",revert:r,dragRect:i,targetRect:a,canSort:c,fromSortable:v,target:o,completed:D,onMove:function(nt,ot){return lt(k,n,m,i,nt,$(nt),t,ot)},changed:p},Re))}function S(){w("dragOverAnimationCapture"),h.captureAnimationState(),h!==v&&v.captureAnimationState()}function D(ge){return w("dragOverCompleted",{insertion:ge}),ge&&(d?s._hideClone():s._showClone(h),h!==v&&(U(m,W?W.options.ghostClass:s.options.ghostClass,!1),U(m,l.ghostClass,!0)),W!==h&&h!==x.active?W=h:h===x.active&&W&&(W=null),v===h&&(h._ignoreWhileAnimating=o),h.animateAll(function(){w("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==v&&(v.animateAll(),v._ignoreWhileAnimating=null)),(o===m&&!m.animated||o===n&&!o.animated)&&(Ie=null),!l.dragoverBubble&&!t.rootEl&&o!==document&&(m.parentNode[J]._isOutsideThisEl(t.target),!ge&&Se(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),y=!0}function p(){Z=ee(m),ve=ee(m,l.draggable),X({sortable:h,name:"change",toEl:n,newIndex:Z,newDraggableIndex:ve,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=ie(o,l.draggable,n,!0),w("dragOver"),x.eventCanceled)return y;if(m.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||h._ignoreWhileAnimating===o)return D(!1);if(yt=!1,s&&!l.disabled&&(d?c||(r=B!==k):W===this||(this.lastPutMode=it.checkPull(this,s,m,t))&&u.checkPut(this,s,m,t))){if(f=this._getDirection(t,o)==="vertical",i=$(m),w("dragOverValid"),x.eventCanceled)return y;if(r)return B=k,S(),this._hideClone(),w("revert"),x.eventCanceled||(_e?k.insertBefore(m,_e):k.appendChild(m)),D(!0);var b=Jt(n,l.draggable);if(!b||ji(t,f,this)&&!b.animated){if(b===m)return D(!1);if(b&&n===t.target&&(o=b),o&&(a=$(o)),lt(k,n,m,i,o,a,t,!!o)!==!1)return S(),b&&b.nextSibling?n.insertBefore(m,b.nextSibling):n.appendChild(m),B=n,p(),D(!0)}else if(b&&zi(t,f,this)){var g=Be(n,0,l,!0);if(g===m)return D(!1);if(o=g,a=$(o),lt(k,n,m,i,o,a,t,!1)!==!1)return S(),n.insertBefore(m,g),B=n,p(),D(!0)}else if(o.parentNode===n){a=$(o);var E=0,I,j=m.parentNode!==n,F=!Hi(m.animated&&m.toRect||i,o.animated&&o.toRect||a,f),me=f?"top":"left",ne=Sn(o,"top","top")||Sn(m,"top","top"),ye=ne?ne.scrollTop:void 0;Ie!==o&&(I=a[me],Ge=!1,at=!F&&l.invertSwap||j),E=Xi(t,o,a,f,F?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,at,Ie===o);var G;if(E!==0){var ae=ee(m);do ae-=E,G=B.children[ae];while(G&&(_(G,"display")==="none"||G===C))}if(E===0||G===o)return D(!1);Ie=o,Ke=E;var we=o.nextElementSibling,re=!1;re=E===1;var Oe=lt(k,n,m,i,o,a,t,re);if(Oe!==!1)return(Oe===1||Oe===-1)&&(re=Oe===1),jt=!0,setTimeout(Vi,30),S(),re&&!we?n.appendChild(m):o.parentNode.insertBefore(m,re?we:o),ne&&Rn(ne,0,ye-ne.scrollTop),B=m.parentNode,I!==void 0&&!at&&(ct=Math.abs(I-$(o)[me])),p(),D(!0)}if(n.contains(m))return D(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){P(document,"mousemove",this._onTouchMove),P(document,"touchmove",this._onTouchMove),P(document,"pointermove",this._onTouchMove),P(document,"dragover",Se),P(document,"mousemove",Se),P(document,"touchmove",Se)},_offUpEvents:function(){var t=this.el.ownerDocument;P(t,"mouseup",this._onDrop),P(t,"touchend",this._onDrop),P(t,"pointerup",this._onDrop),P(t,"touchcancel",this._onDrop),P(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;if(Z=ee(m),ve=ee(m,o.draggable),Y("drop",this,{evt:t}),B=m&&m.parentNode,Z=ee(m),ve=ee(m,o.draggable),x.eventCanceled){this._nulling();return}Ae=!1,at=!1,Ge=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Xt(this.cloneId),Xt(this._dragStartId),this.nativeDraggable&&(P(document,"drop",this),P(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Xe&&_(document.body,"user-select",""),_(m,"transform",""),t&&($e&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),C&&C.parentNode&&C.parentNode.removeChild(C),(k===B||W&&W.lastPutMode!=="clone")&&M&&M.parentNode&&M.parentNode.removeChild(M),m&&(this.nativeDraggable&&P(m,"dragend",this),Bt(m),m.style["will-change"]="",$e&&!Ae&&U(m,W?W.options.ghostClass:this.options.ghostClass,!1),U(m,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:B,newIndex:null,newDraggableIndex:null,originalEvent:t}),k!==B?(Z>=0&&(X({rootEl:B,name:"add",toEl:B,fromEl:k,originalEvent:t}),X({sortable:this,name:"remove",toEl:B,originalEvent:t}),X({rootEl:B,name:"sort",toEl:B,fromEl:k,originalEvent:t}),X({sortable:this,name:"sort",toEl:B,originalEvent:t})),W&&W.save()):Z!==Me&&Z>=0&&(X({sortable:this,name:"update",toEl:B,originalEvent:t}),X({sortable:this,name:"sort",toEl:B,originalEvent:t})),x.active&&((Z==null||Z===-1)&&(Z=Me,ve=Qe),X({sortable:this,name:"end",toEl:B,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Y("nulling",this),k=m=B=C=_e=M=ut=pe=Ee=oe=$e=Z=ve=Me=Qe=Ie=Ke=W=it=x.dragged=x.ghost=x.clone=x.active=null,Et.forEach(function(t){t.checked=!0}),Et.length=Mt=qt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":m&&(this._onDragOver(t),Wi(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,o=this.el.children,i=0,a=o.length,r=this.options;i<a;i++)n=o[i],ie(n,r.draggable,this.el,!1)&&t.push(n.getAttribute(r.dataIdAttr)||Qi(n));return t},sort:function(t,n){var o={},i=this.el;this.toArray().forEach(function(a,r){var l=i.children[r];ie(l,this.options.draggable,i,!1)&&(o[a]=l)},this),n&&this.captureAnimationState(),t.forEach(function(a){o[a]&&(i.removeChild(o[a]),i.appendChild(o[a]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return ie(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var i=tt.modifyOption(this,t,n);typeof i!="undefined"?o[t]=i:o[t]=n,t==="group"&&Vn(o)},destroy:function(){Y("destroy",this);var t=this.el;t[J]=null,P(t,"mousedown",this._onTapStart),P(t,"touchstart",this._onTapStart),P(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(P(t,"dragover",this),P(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),wt.splice(wt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!pe){if(Y("hideClone",this),x.eventCanceled)return;_(M,"display","none"),this.options.removeCloneOnHide&&M.parentNode&&M.parentNode.removeChild(M),pe=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(pe){if(Y("showClone",this),x.eventCanceled)return;m.parentNode==k&&!this.options.group.revertClone?k.insertBefore(M,m):_e?k.insertBefore(M,_e):k.appendChild(M),this.options.group.revertClone&&this.animate(m,M),_(M,"display",""),pe=!1}}};function Wi(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function lt(e,t,n,o,i,a,r,l){var u,s=e[J],d=s.options.onMove,c;return window.CustomEvent&&!he&&!et?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=t,u.from=e,u.dragged=n,u.draggedRect=o,u.related=i||t,u.relatedRect=a||$(t),u.willInsertAfter=l,u.originalEvent=r,e.dispatchEvent(u),d&&(c=d.call(s,u,r)),c}function Bt(e){e.draggable=!1}function Vi(){jt=!1}function zi(e,t,n){var o=$(Be(n.el,0,n.options,!0)),i=$n(n.el,n.options,C),a=10;return t?e.clientX<i.left-a||e.clientY<o.top&&e.clientX<o.right:e.clientY<i.top-a||e.clientY<o.bottom&&e.clientX<o.left}function ji(e,t,n){var o=$(Jt(n.el,n.options.draggable)),i=$n(n.el,n.options,C),a=10;return t?e.clientX>i.right+a||e.clientY>o.bottom&&e.clientX>o.left:e.clientY>i.bottom+a||e.clientX>o.right&&e.clientY>o.top}function Xi(e,t,n,o,i,a,r,l){var u=o?e.clientY:e.clientX,s=o?n.height:n.width,d=o?n.top:n.left,c=o?n.bottom:n.right,v=!1;if(!r){if(l&&ct<s*i){if(!Ge&&(Ke===1?u>d+s*a/2:u<c-s*a/2)&&(Ge=!0),Ge)v=!0;else if(Ke===1?u<d+ct:u>c-ct)return-Ke}else if(u>d+s*(1-i)/2&&u<c-s*(1-i)/2)return Yi(t)}return v=v||r,v&&(u<d+s*a/2||u>c-s*a/2)?u>d+s/2?1:-1:0}function Yi(e){return ee(m)<ee(e)?1:-1}function Qi(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function Ki(e){Et.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&Et.push(o)}}function dt(e){return setTimeout(e,0)}function Xt(e){return clearTimeout(e)}xt&&A(document,"touchmove",function(e){(x.active||Ae)&&e.cancelable&&e.preventDefault()});x.utils={on:A,off:P,css:_,find:Bn,is:function(t,n){return!!ie(t,n,t,!1)},extend:Ai,throttle:Nn,closest:ie,toggleClass:U,clone:Hn,index:ee,nextTick:dt,cancelNextTick:Xt,detectDirection:Wn,getChild:Be};x.get=function(e){return e[J]};x.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(x.utils=ue(ue({},x.utils),o.utils)),tt.mount(o)})};x.create=function(e,t){return new x(e,t)};x.version=Oi;var R=[],Le,Yt,Qt=!1,Nt,Rt,St,We;function Gi(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?A(document,"dragover",this._handleAutoScroll):this.options.supportPointer?A(document,"pointermove",this._handleFallbackAutoScroll):o.touches?A(document,"touchmove",this._handleFallbackAutoScroll):A(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?P(document,"dragover",this._handleAutoScroll):(P(document,"pointermove",this._handleFallbackAutoScroll),P(document,"touchmove",this._handleFallbackAutoScroll),P(document,"mousemove",this._handleFallbackAutoScroll)),Tn(),ft(),ki()},nulling:function(){St=Yt=Le=Qt=We=Nt=Rt=null,R.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var i=this,a=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,l=document.elementFromPoint(a,r);if(St=n,o||this.options.forceAutoScrollFallback||et||he||Xe){Ht(n,this.options,l,o);var u=be(l,!0);Qt&&(!We||a!==Nt||r!==Rt)&&(We&&Tn(),We=setInterval(function(){var s=be(document.elementFromPoint(a,r),!0);s!==u&&(u=s,ft()),Ht(n,i.options,s,o)},10),Nt=a,Rt=r)}else{if(!this.options.bubbleScroll||be(l,!0)===se()){ft();return}Ht(n,this.options,be(l,!1),!1)}}},fe(e,{pluginName:"scroll",initializeByDefault:!0})}function ft(){R.forEach(function(e){clearInterval(e.pid)}),R=[]}function Tn(){clearInterval(We)}var Ht=Nn(function(e,t,n,o){if(!!t.scroll){var i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,r=t.scrollSensitivity,l=t.scrollSpeed,u=se(),s=!1,d;Yt!==n&&(Yt=n,ft(),Le=t.scroll,d=t.scrollFn,Le===!0&&(Le=be(n,!0)));var c=0,v=Le;do{var f=v,h=$(f),y=h.top,w=h.bottom,S=h.left,D=h.right,p=h.width,b=h.height,g=void 0,E=void 0,I=f.scrollWidth,j=f.scrollHeight,F=_(f),me=f.scrollLeft,ne=f.scrollTop;f===u?(g=p<I&&(F.overflowX==="auto"||F.overflowX==="scroll"||F.overflowX==="visible"),E=b<j&&(F.overflowY==="auto"||F.overflowY==="scroll"||F.overflowY==="visible")):(g=p<I&&(F.overflowX==="auto"||F.overflowX==="scroll"),E=b<j&&(F.overflowY==="auto"||F.overflowY==="scroll"));var ye=g&&(Math.abs(D-i)<=r&&me+p<I)-(Math.abs(S-i)<=r&&!!me),G=E&&(Math.abs(w-a)<=r&&ne+b<j)-(Math.abs(y-a)<=r&&!!ne);if(!R[c])for(var ae=0;ae<=c;ae++)R[ae]||(R[ae]={});(R[c].vx!=ye||R[c].vy!=G||R[c].el!==f)&&(R[c].el=f,R[c].vx=ye,R[c].vy=G,clearInterval(R[c].pid),(ye!=0||G!=0)&&(s=!0,R[c].pid=setInterval(function(){o&&this.layer===0&&x.active._onTouchMove(St);var we=R[this.layer].vy?R[this.layer].vy*l:0,re=R[this.layer].vx?R[this.layer].vx*l:0;typeof d=="function"&&d.call(x.dragged.parentNode[J],re,we,e,St,R[this.layer].el)!=="continue"||Rn(R[this.layer].el,re,we)}.bind({layer:c}),24))),c++}while(t.bubbleScroll&&v!==u&&(v=be(v,!1)));Qt=s}},30),Xn=function(t){var n=t.originalEvent,o=t.putSortable,i=t.dragEl,a=t.activeSortable,r=t.dispatchSortableEvent,l=t.hideGhostForTarget,u=t.unhideGhostForTarget;if(!!n){var s=o||a;l();var d=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(d.clientX,d.clientY);u(),s&&!s.el.contains(c)&&(r("spill"),this.onSpill({dragEl:i,putSortable:o}))}};function en(){}en.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var i=Be(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:Xn};fe(en,{pluginName:"revertOnSpill"});function tn(){}tn.prototype={onSpill:function(t){var n=t.dragEl,o=t.putSortable,i=o||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:Xn};fe(tn,{pluginName:"removeOnSpill"});x.mount(new Gi);x.mount(tn,en);const Ui=Ro({__name:"Sortable",props:{options:{type:Object,default:null,required:!1},list:{type:[Array,Object],default:[],required:!0},itemKey:{type:[String,Function],default:"",required:!0},tag:{type:String,default:"div",required:!1}},emits:["choose","unchoose","start","end","add","update","sort","remove","filter","move","clone","change"],setup(e,{expose:t,emit:n}){const o=e,i=n,a=Ho(),r=z(!1),l=z(null),u=z(null),s=q(()=>typeof o.itemKey=="string"?d=>d[o.itemKey]:o.itemKey);return t({containerRef:l,sortable:u,isDragging:r}),Q(l,d=>{d&&(u.value=new x(d,{...o.options,onChoose:c=>i("choose",c),onUnchoose:c=>i("unchoose",c),onStart:c=>{r.value=!0,i("start",c)},onEnd:c=>{setTimeout(()=>{r.value=!1,i("end",c)})},onAdd:c=>i("add",c),onUpdate:c=>i("update",c),onSort:c=>i("sort",c),onRemove:c=>i("remove",c),onFilter:c=>i("filter",c),onMove:(c,v)=>"onMoveCapture"in a?a.onMoveCapture(c,v):i("move",c,v),onClone:c=>i("clone",c),onChange:c=>i("change",c)}))}),Q(()=>o.options,d=>{if(d&&(u==null?void 0:u.value))for(const c in d)u.value.option(c,d[c])}),$o(()=>{u.value&&(u.value.destroy(),l.value=null,u.value=null)}),(d,c)=>(K(),ce(Vo(d.$props.tag),{ref_key:"containerRef",ref:l,class:le(d.$props.class)},{default:L(()=>[Pt(d.$slots,"header"),(K(!0),Ue(Lo,null,Wo(e.list,(v,f)=>Pt(d.$slots,"item",{key:s.value(v),element:v,index:f})),128)),Pt(d.$slots,"footer")]),_:3},8,["class"]))}}),Zi={class:"q-pa-md"},oa={__name:"PageEntries",setup(e){const t=_t();return(n,o)=>(K(),ce(Yo,null,{default:L(()=>[te("div",Zi,[H(Vt,{appear:"","enter-active-class":"animated jackInTheBox slower"},{default:L(()=>[O(t).entries.length===0?(K(),ce(xi,{key:0})):qe("",!0)]),_:1}),O(t).entries.length?(K(),ce(Zn,{key:0,class:"entries"},{default:L(()=>[H(O(Ui),{onEnd:O(t).sortEnd,list:O(t).entries,options:{handle:".handle"},"item-key":"id",tag:"div"},{item:L(({element:i,index:a})=>[(K(),ce(Si,{key:i.id,entry:i,index:a},null,8,["entry","index"]))]),_:1},8,["onEnd","list"])]),_:1})):qe("",!0)]),H(Qo,{class:"bg-transparent"},{default:L(()=>[H(Vt,{appear:"","enter-active-class":"animated fadeInUp slower","leave-active-class":"animated fadeOutDown slower"},{default:L(()=>[O(t).entries.length?(K(),ce(ti,{key:0})):qe("",!0)]),_:1}),H(ri)]),_:1})]),_:1}))}};export{oa as default};
